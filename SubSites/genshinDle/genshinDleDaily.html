<!DOCTYPE html>
<html lang="cs" dir="ltr">
<head>
<meta charset="utf-8">
<title>GenshinDle! - Daily</title>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<style>
  body {
    background-color: rgb(6, 11, 24);
  }

  #input {
    font-family:verdana;
    height:6vh;
    border:3px solid cyan;
    border-radius:2px;
    background-color:gray;
    color:white;
    font-size:1.3em;
    cursor:pointer;
  }

  #input:focus {
    outline:none;
  }

  #guessBtn {
    font-family:verdana;
    height:6vh;
    border:3px solid cyan;
    border-radius:2px;
    background-color:gray;
    color:white;
  }

  .parentDiv {
    display: block;
    margin-left: auto;
    margin-right: auto;
    width:70vw;
  }

  .parentDiv span {
    color:white;
    width:11vw;
    text-align:center;
    font-family:verdana;
  }

  .guessBar {
    display:flex;
    position:relative;
    width:70vw;
    justify-content:space-around;
  }

  .oneBox {
    text-align:center;
    border:1px solid white;
    border-radius:5px;
    width:11vh;
    padding:5vh 0;
    animation:appear linear 400ms;
    animation-fill-mode:backwards;
  }

  img.oneBox {
    height:12vh;
    margin: 16px 0;
  }

  p {
    font-family:verdana;
  }

  .oneBox:nth-child(2) {
    animation-delay:300ms
  }

  .oneBox:nth-child(3) {
    animation-delay:600ms
  }

  .oneBox:nth-child(4) {
    animation-delay:900ms
  }

  .oneBox:nth-child(5) {
    animation-delay:1200ms
  }

  .oneBox:nth-child(6) {
    animation-delay:1500ms
  }

  @keyframes appear {
    from {
      transform:scaleY(0);
    } to {
      transform:scaleY(1);
    }
  }

</style>
</head>
<body id="body">
<a href="genshinDleRandom.html" style="font-family:verdana;color:white;padding:10px;">Go to Random Infinite version</a>
<p style="font-family:verdana;padding:0;color:white;padding:0 10px;">Time until new character: <span id="newCharacterTimer"></span></p>
<h1 style="font-family:verdana;font-size:600%;padding:0;color:white;text-align:center;margin-bottom:0;">GenshinDle!</h1>
<h2 style="font-family:verdana;padding:0;color:white;text-align:center;">Daily characters!</h2>
<div style="display:flex;justify-content:space-around;margin-bottom:30px;">
<div>
<input type="text" id="input" placeholder="type a character...">
<button onclick="guess()" id="guessBtn">GUESS</button>
</div>
</div>
<div class="parentDiv">
  <div class="guessBar">
    <span>Character</span>
    <span>Gender</span>
    <span>Region</span>
    <span>Rarity</span>
    <span>Element</span>
    <span>Weapon</span>
  </div>
</div>
<div id="parentDiv" class="parentDiv"></div>
<script>


characters = [
  {
    name: "Albedo",
    gender: "Male",
    region: "Mondstadt",
    rarity: "5 star",
    element: "Geo",
    weapon: "Sword"
  },
  {
    name: "Alhaitham",
    gender: "Male",
    region: "Sumeru",
    rarity: "5 star",
    element: "Dendro",
    weapon: "Sword"
  },
  {
    name: "Aloy",
    gender: "Female",
    region: "none",
    rarity: "5 star",
    element: "Cryo",
    weapon: "Bow"
  },
  {
    name: "Amber",
    gender: "Female",
    region: "Mondstadt",
    rarity: "4 star",
    element: "Pyro",
    weapon: "Bow"
  },
  {
    name: "Arataki Itto",
    gender: "Male",
    region: "Inazuma",
    rarity: "5 star",
    element: "Geo",
    weapon: "Claymore"
  },
  {
    name: "Baizhu",
    gender: "Male",
    region: "Liyue",
    rarity: "5 star",
    element: "Dendro",
    weapon: "Catalyst"
  },
  {
    name: "Barbara",
    gender: "Female",
    region: "Mondstadt",
    rarity: "4 star",
    element: "Hydro",
    weapon: "Catalyst"
  },
  {
    name: "Beidou",
    gender: "Female",
    region: "Liyue",
    rarity: "4 star",
    element: "Electro",
    weapon: "Claymore"
  },
  {
    name: "Bennet",
    gender: "Male",
    region: "Mondstadt",
    rarity: "4 star",
    element: "Pyro",
    weapon: "Sword"
  },
  {
    name: "Candace",
    gender: "Female",
    region: "Sumeru",
    rarity: "4 star",
    element: "Hydro",
    weapon: "Polearm"
  },
  {
    name: "Charlotte",
    gender: "Female",
    region: "Fontaine",
    rarity: "4 star",
    element: "Cryo",
    weapon: "Catalyst"
  },
  {
    name: "Chevreuse",
    gender: "Female",
    region: "Fontaine",
    rarity: "4 star",
    element: "Pyro",
    weapon: "Polearm"
  },
  {
    name: "Chongyun",
    gender: "Male",
    region: "Liyue",
    rarity: "4 star",
    element: "Cryo",
    weapon: "Claymore"
  },
  {
    name: "Collei",
    gender: "Female",
    region: "Sumeru",
    rarity: "4 star",
    element: "Dendro",
    weapon: "Bow"
  },
  {
    name: "Cyno",
    gender: "Male",
    region: "Sumeru",
    rarity: "5 star",
    element: "Electro",
    weapon: "Polearm"
  },
  {
    name: "Dehya",
    gender: "Female",
    region: "Sumeru",
    rarity: "5 star",
    element: "Pyro",
    weapon: "Claymore"
  },
  {
    name: "Diluc",
    gender: "Male",
    region: "Mondstadt",
    rarity: "5 star",
    element: "Pyro",
    weapon: "Claymore"
  },
  {
    name: "Diona",
    gender: "Female",
    region: "Mondstadt",
    rarity: "4 star",
    element: "Cryo",
    weapon: "Bow"
  },
  {
    name: "Dori",
    gender: "Female",
    region: "Sumeru",
    rarity: "4 star",
    element: "Electro",
    weapon: "Claymore"
  },
  {
    name: "Eula",
    gender: "Female",
    region: "Mondstadt",
    rarity: "5 star",
    element: "Cryo",
    weapon: "Claymore"
  },
  {
    name: "Faruzan",
    gender: "Female",
    region: "Sumeru",
    rarity: "4 star",
    element: "Anemo",
    weapon: "Bow"
  },
  {
    name: "Fischl",
    gender: "Female",
    region: "Mondstadt",
    rarity: "4 star",
    element: "Electro",
    weapon: "Bow"
  },
  {
    name: "Freminet",
    gender: "Male",
    region: "Fontaine",
    rarity: "4 star",
    element: "Cryo",
    weapon: "Claymore"
  },
  {
    name: "Furina",
    gender: "Female",
    region: "Fontaine",
    rarity: "5 star",
    element: "Hydro",
    weapon: "Sword"
  },
  {
    name: "Ganyu",
    gender: "Female",
    region: "Liyue",
    rarity: "5 star",
    element: "Cryo",
    weapon: "Bow"
  },
  {
    name: "Gorou",
    gender: "Male",
    region: "Inazuma",
    rarity: "4 star",
    element: "Geo",
    weapon: "Bow"
  },
  {
    name: "Hu tao",
    gender: "Female",
    region: "Liyue",
    rarity: "5 star",
    element: "Pyro",
    weapon: "Polearm"
  },
  {
    name: "Jean",
    gender: "Female",
    region: "Mondstadt",
    rarity: "5 star",
    element: "Anemo",
    weapon: "Sword"
  },
  {
    name: "Kaedehara Kazuha",
    gender: "Male",
    region: "Inazuma",
    rarity: "5 star",
    element: "Anemo",
    weapon: "Sword"
  },
  {
    name: "Kaeya",
    gender: "Male",
    region: "Mondstadt",
    rarity: "4 star",
    element: "Cryo",
    weapon: "Sword"
  },
  {
    name: "Kamisato Ayaka",
    gender: "Female",
    region: "Inazuma",
    rarity: "5 star",
    element: "Cryo",
    weapon: "Sword"
  },
  {
    name: "Kamisato Ayato",
    gender: "Male",
    region: "Inazuma",
    rarity: "5 star",
    element: "Hydro",
    weapon: "Sword"
  },
  {
    name: "Kaveh",
    gender: "Male",
    region: "Sumeru",
    rarity: "4 star",
    element: "Dendro",
    weapon: "Claymore"
  },
  {
    name: "Keqing",
    gender: "Female",
    region: "Liyue",
    rarity: "5 star",
    element: "Electro",
    weapon: "Sword"
  },
  {
    name: "Kirara",
    gender: "Female",
    region: "Inazuma",
    rarity: "4 star",
    element: "Dendro",
    weapon: "Sword"
  },
  {
    name: "Klee",
    gender: "Female",
    region: "Mondstadt",
    rarity: "5 star",
    element: "Pyro",
    weapon: "Catalyst"
  },
  {
    name: "Kujou Sara",
    gender: "Female",
    region: "Inazuma",
    rarity: "4 star",
    element: "Electro",
    weapon: "Bow"
  },
  {
    name: "Kuki Shinobu",
    gender: "Female",
    region: "Inazuma",
    rarity: "4 star",
    element: "Electro",
    weapon: "Sword"
  },
  {
    name: "Layla",
    gender: "Female",
    region: "Sumeru",
    rarity: "4 star",
    element: "Cryo",
    weapon: "Sword"
  },
  {
    name: "Lisa",
    gender: "Female",
    region: "Mondstadt",
    rarity: "4 star",
    element: "Electro",
    weapon: "Catalyst"
  },
  {
    name: "Lynette",
    gender: "Female",
    region: "Fontaine",
    rarity: "4 star",
    element: "Anemo",
    weapon: "Sword"
  },
  {
    name: "Lyney",
    gender: "Male",
    region: "Fontaine",
    rarity: "5 star",
    element: "Pyro",
    weapon: "Bow"
  },
  {
    name: "Mika",
    gender: "Male",
    region: "Mondstadt",
    rarity: "4 star",
    element: "Cryo",
    weapon: "Polearm"
  },
  {
    name: "Mona",
    gender: "Female",
    region: "Mondstadt",
    rarity: "5 star",
    element: "Hydro",
    weapon: "Catalyst"
  },
  {
    name: "Nahida",
    gender: "Female",
    region: "Sumeru",
    rarity: "5 star",
    element: "Dendro",
    weapon: "Catalyst"
  },
  {
    name: "Navia",
    gender: "Female",
    region: "Fontaine",
    rarity: "5 star",
    element: "Geo",
    weapon: "Claymore"
  },
  {
    name: "Neuvillette",
    gender: "Male",
    region: "Fontaine",
    rarity: "5 star",
    element: "Hydro",
    weapon: "Catalyst"
  },
  {
    name: "Nilou",
    gender: "Female",
    region: "Sumeru",
    rarity: "5 star",
    element: "Hydro",
    weapon: "Sword"
  },
  {
    name: "Ningguang",
    gender: "Female",
    region: "Liyue",
    rarity: "4 star",
    element: "Geo",
    weapon: "Catalyst"
  },
  {
    name: "Noelle",
    gender: "Female",
    region: "Mondstadt",
    rarity: "4 star",
    element: "Geo",
    weapon: "Claymore"
  },
  {
    name: "Qiqi",
    gender: "Female",
    region: "Liyue",
    rarity: "5 star",
    element: "Cryo",
    weapon: "Sword"
  },
  {
    name: "Raiden Shogun",
    gender: "Female",
    region: "Inazuma",
    rarity: "5 star",
    element: "Electro",
    weapon: "Polearm"
  },
  {
    name: "Razor",
    gender: "Male",
    region: "Mondstadt",
    rarity: "4 star",
    element: "Electro",
    weapon: "Claymore"
  },
  {
    name: "Rosaria",
    gender: "Female",
    region: "Mondstadt",
    rarity: "4 star",
    element: "Cryo",
    weapon: "Polearm"
  },
  {
    name: "Sangonomiya Kokomi",
    gender: "Female",
    region: "Inazuma",
    rarity: "5 star",
    element: "Hydro",
    weapon: "Catalyst"
  },
  {
    name: "Sayu",
    gender: "Female",
    region: "Inazuma",
    rarity: "4 star",
    element: "Anemo",
    weapon: "Claymore"
  },
  {
    name: "Shenhe",
    gender: "Female",
    region: "Liyue",
    rarity: "5 star",
    element: "Cryo",
    weapon: "Polearm"
  },
  {
    name: "Shikakoin Heizhou",
    gender: "Male",
    region: "Inazuma",
    rarity: "4 star",
    element: "Anemo",
    weapon: "Catalyst"
  },
  {
    name: "Sucrose",
    gender: "Female",
    region: "Mondstadt",
    rarity: "4 star",
    element: "Anemo",
    weapon: "Catalyst"
  },
  {
    name: "Tartaglia",
    gender: "Male",
    region: "Shneznaya",
    rarity: "5 star",
    element: "Hydro",
    weapon: "Bow"
  },
  {
    name: "Thoma",
    gender: "Male",
    region: "Inazuma",
    rarity: "4 star",
    element: "Pyro",
    weapon: "Polearm"
  },
  {
    name: "Tighnari",
    gender: "Male",
    region: "Sumeru",
    rarity: "5 star",
    element: "Dendro",
    weapon: "Bow"
  },
  {
    name: "Venti",
    gender: "Male",
    region: "Mondstadt",
    rarity: "5 star",
    element: "Anemo",
    weapon: "Bow"
  },
  {
    name: "Wanderer",
    gender: "Male",
    region: "Sumeru",
    rarity: "5 star",
    element: "Anemo",
    weapon: "Catalyst"
  },
  {
    name: "Wriothesley",
    gender: "Male",
    region: "Fontaine",
    rarity: "5 star",
    element: "Cryo",
    weapon: "Catalyst"
  },
  {
    name: "Xiangling",
    gender: "Female",
    region: "Liyue",
    rarity: "4 star",
    element: "Pyro",
    weapon: "Polearm"
  },
  {
    name: "Xiao",
    gender: "Male",
    region: "Liyue",
    rarity: "5 star",
    element: "Anemo",
    weapon: "Polearm"
  },
  {
    name: "Xingqiu",
    gender: "Male",
    region: "Liyue",
    rarity: "4 star",
    element: "Hydro",
    weapon: "Sword"
  },
  {
    name: "Xinyan",
    gender: "Female",
    region: "Liyue",
    rarity: "4 star",
    element: "Pyro",
    weapon: "Claymore"
  },
  {
    name: "Yae Miko",
    gender: "Female",
    region: "Inazuma",
    rarity: "5 star",
    element: "Electro",
    weapon: "Catalyst"
  },
  {
    name: "Yanfei",
    gender: "Female",
    region: "Liyue",
    rarity: "4 star",
    element: "Pyro",
    weapon: "Catalyst",
  },
  {
    name: "Yaoyao",
    gender: "Female",
    region: "Liyue",
    rarity: "4 star",
    element: "Dendro",
    weapon: "Polearm"
  },
  {
    name: "Yelan",
    gender: "Female",
    region: "Liyue",
    rarity: "5 star",
    element: "Hydro",
    weapon: "Bow"
  },
  {
    name: "Yoimiya",
    gender: "Female",
    region: "Inazuma",
    rarity: "5 star",
    element: "Pyro",
    weapon: "Bow"
  },
  {
    name: "Yun Jin",
    gender: "Female",
    region: "Liyue",
    rarity: "4 star",
    element: "Geo",
    weapon: "Polearm"
  },
  {
    name: "Zhongli",
    gender: "Male",
    region: "Liyue",
    rarity: "5 star",
    element: "Geo",
    weapon: "Polearm"
  },
]



function getTodaysCharacter() {
  seed = Math.floor(+Date.now()/86400000)
  const range = characters.length + 1;
  const x = Math.sin(seed++) * 10000;
  const scaledRandom = Math.floor((x - Math.floor(x)) * range);
  return characters[Math.min(Math.max(scaledRandom < 0 ? range + scaledRandom : scaledRandom, 0), characters.length)];
}

characterToGuess = getTodaysCharacter()
setInterval(timeUntilNewCharacter, 200)

document.getElementById("input").onkeydown = function(e) {
  if (e.key == "Enter") {guess()}
}

function guess() {
  input = document.getElementById("input").value
  input = input.split(" ")
  for (let i = 0; i < input.length; i += 1) {
    input[i] = input[i][0].toUpperCase() + input[i].slice(1)
  }
  input = input.join(" ")
  guessedCharacter = characters.find(charObject => charObject.name === input)
  flexDiv = document.createElement("div")
  flexDiv.setAttribute("class", "guessBar")
  for (let i = 0; i < Object.keys(guessedCharacter).length; i += 1) {
    if (i == 0) {
      oneBox = document.createElement("img")
      oneBox.src = `portraits/${guessedCharacter[Object.keys(guessedCharacter)[i]].replace(" ", "_")}.png`
      oneBox.style.padding = "0px"
    } else {
      oneBox = document.createElement("p")
      oneBox.innerHTML = guessedCharacter[Object.keys(guessedCharacter)[i]]
    }
    oneBox.setAttribute("class", "oneBox")
    if (guessedCharacter[Object.keys(guessedCharacter)[i]] == characterToGuess[Object.keys(guessedCharacter)[i]]) {
      oneBox.style.backgroundColor = "lime"
    } else {
      oneBox.style.backgroundColor = "red"
    }
    flexDiv.appendChild(oneBox)
  }
  document.getElementById("parentDiv").insertBefore(flexDiv, document.getElementById("parentDiv").firstChild)
  document.getElementById("input").value = ""
  if (guessedCharacter == characterToGuess) {
    setTimeout(wonFunction, 2200)
  }
}

function wonFunction() {
  console.log("won")
  window.alert("yippi")
}

function timeUntilNewCharacter() {
  document.getElementById("newCharacterTimer").innerHTML = convertTimeDisplay(86400000 - +Date.now()%86400000)
}

function convertTimeDisplay(millisec) {
    var seconds = (millisec / 1000).toFixed(0);
    var minutes = Math.floor(seconds / 60);
    var hours = "";
    if (minutes > 59) {
        hours = Math.floor(minutes / 60);
        hours = (hours >= 10) ? hours : "0" + hours;
        minutes = minutes - (hours * 60);
        minutes = (minutes >= 10) ? minutes : "0" + minutes;
    }

    seconds = Math.floor(seconds % 60);
    seconds = (seconds >= 10) ? seconds : "0" + seconds;
    if (hours != "") {
        return hours + ":" + minutes + ":" + seconds;
    }
    return minutes + ":" + seconds;
}

$(document).ready(function() {

  $('.submit_on_enter').keydown(function(event) {
    // enter has keyCode = 13, change it if you want to use another button
    if (event.keyCode == 13) {
      guess()
      return false;
    }
  });

});
</script>
</body>
</html>
